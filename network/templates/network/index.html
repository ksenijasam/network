{% extends "network/layout.html" %}

{% block body %}
    <div class="row center-content">
        <div class="col-10 margin-top-40 border">
            <form action="{% url 'save_post' %}" method="post">

                {% csrf_token %}

                <h2>New Post</h2>
                <textarea class="width-100" rows="5" name="content"></textarea>

                
                <button class="btn btn-info post-button" type="submit">Post</button>

            </form>
        </div>

        <div class="col-10 margin-top-40">
            <!-- <div id="all_posts_data"></div> -->

            {% for post in page %}
                <div class="border margin-padding-20">
                    <div class="row">
                        <div class="col-10">
                            <a href="{% url 'profile' post.user__pk 'None' %}">{{ post.user__username }}</a>
                        </div>
                        <div class="col-2">
                            <div class="float-right">
                                ðŸ’“ {{post.likes_count}} 
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-10">
                            {{ post.content }}
                        </div>
                        <div class="col-2">
                            <div class="float-right">
                                {{ post.date_time | date:"d.m.y H:i"}}
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}

            <div class="pagination center-content">
                {% if page.has_previous %}
                    <a href="?page={{ page.previous_page_number }}">Previous</a>  &nbsp; |
                {% endif %}
                
                <span class="current-page">&nbsp; {{ page.number }} &nbsp; </span>
                
                {% if page.has_next %}
                    | &nbsp;<a href="?page={{ page.next_page_number }}">Next</a>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}